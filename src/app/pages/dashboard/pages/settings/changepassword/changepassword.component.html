<h3 class="title-page" appIntersection="fade-in">
  الاعدادات 
  <img src="assets/dashboard/iconarrowdouble.png" class="mx-1" alt="icon"> 
  <span>تغيير كلمة المرور</span>
</h3>

<form class="forms_dashboard row" appIntersection="fade-in" [formGroup]="changePassForm" (ngSubmit)="changePassword()">

  <!-- كلمة المرور القديمة -->
  <div class="mb-3 col-sm-12">
    <label for="oldpassword" class="form-label">كلمة المرور القديمة</label>
    <div class="password_input">
      <input
        [type]="showOldPassword ? 'text' : 'password'"
        class="form-control"
        id="oldpassword"
        formControlName="oldPassword"
        placeholder="كلمة المرور القديمة"
      />
      <button type="button" class="eye" (click)="showOldPassword = !showOldPassword">
        <i class="fa-solid" [ngClass]="showOldPassword ? 'fa-eye' : 'fa-eye-slash'"></i>
      </button>
    </div>
    <small *ngIf="changePassForm.controls['oldPassword'].invalid && changePassForm.controls['oldPassword'].touched" class="text-danger">
      كلمة المرور القديمة مطلوبة
    </small>
  </div>

  <!-- كلمة المرور الجديدة -->
  <div class="mb-3 col-sm-12">
    <label for="newpassword" class="form-label">كلمة المرور الجديدة</label>
    <div class="password_input">
      <input
        [type]="showNewPassword ? 'text' : 'password'"
        class="form-control"
        id="newpassword"
        formControlName="newPassword"
        placeholder="كلمة المرور الجديدة"
      />
      <button type="button" class="eye" (click)="showNewPassword = !showNewPassword">
        <i class="fa-solid" [ngClass]="showNewPassword ? 'fa-eye' : 'fa-eye-slash'"></i>
      </button>
    </div>
    <small *ngIf="changePassForm.controls['newPassword'].invalid && changePassForm.controls['newPassword'].touched" class="text-danger">
      كلمة المرور الجديدة مطلوبة ويجب أن تكون على الأقل 6 أحرف
    </small>
  </div>

  <!-- تأكيد كلمة المرور -->
  <div class="mb-3 col-sm-12">
    <label for="confirmpassword" class="form-label">تأكيد كلمة المرور</label>
    <div class="password_input">
      <input
        [type]="showConfirmPassword ? 'text' : 'password'"
        class="form-control"
        id="confirmpassword"
        formControlName="confirmPassword"
        placeholder="تأكيد كلمة المرور"
      />
      <button type="button" class="eye" (click)="showConfirmPassword = !showConfirmPassword">
        <i class="fa-solid" [ngClass]="showConfirmPassword ? 'fa-eye' : 'fa-eye-slash'"></i>
      </button>
    </div>
    <small *ngIf="changePassForm.hasError('mismatch') && changePassForm.controls['confirmPassword'].touched" class="text-danger">
      كلمة المرور غير متطابقة
    </small>
  </div>

  <!-- زر الحفظ -->
  <div class="text-center btn_add_reset">
    <button type="submit">حفظ</button>
  </div>
</form>
