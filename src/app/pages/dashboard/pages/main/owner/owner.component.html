
    <h3 class="title-page" appIntersection='fade-in'>الرئيسيه <img src="assets/dashboard/iconarrowdouble.png"  class="mx-1" alt="icon"> <span>المالك</span> </h3>
    <form class="forms_dashboard" appIntersection="fade-in" [formGroup]="dataForm" (ngSubmit)="onSubmit()" enctype="multipart/form-data">
        <div class="row">



<div class="mb-3 col-sm-12 col-md-6 col-lg-3">
                 <label for="username" class="form-label">الاسم</label>
                 <input type="text" [value]="this.getDataUpdate?.fullName" class="form-control" id="username" name="username" placeholder="الاسم" formControlName="FullName">
                 <ng-container *ngIf="dataForm.controls['FullName'].invalid && dataForm.controls['FullName'].touched">
                      <small *ngIf="dataForm.controls['FullName'].hasError('required')">اسم المالك مطلوب</small>
                 </ng-container>
        </div>
        <div class="mb-3 col-sm-12 col-md-6 col-lg-3">
                 <label for="Nationality" class="form-label">الجنسيه</label>
                   <select class="form-select" placeholder="الجنسيه"  id="Identitytype"  name="Nationality" aria-label="Default select example" formControlName="Nationality">
                    <option value="" disabled selected>الجنسيه</option>
                    @for (item of dataNationality; track $index) {
                      <option [value]="item.nationality_ar">{{item.nationality_ar}}</option>
                    }
                </select>
                 <ng-container *ngIf="dataForm.controls['Nationality'].invalid && dataForm.controls['Nationality'].touched">
                      <small *ngIf="dataForm.controls['Nationality'].hasError('required')">رجاء اختيار الجنسيه</small>
                 </ng-container>
        </div>
        <div class="mb-3 col-sm-12 col-md-6 col-lg-3">
                 <label for="phonenumber" class="form-label">رقم الجوال</label>
                 <input type="text" [value]="this.getDataUpdate?.phoneNumber" name="phonenumber" (keypress)="validateNumber($event)" maxlength="11" inputmode="numeric" pattern="[0-9]*" class="form-control" id="phonenumber" placeholder="الرقم" formControlName="PhoneNumber">
                   <ng-container *ngIf="dataForm.controls['PhoneNumber'].invalid && dataForm.controls['PhoneNumber'].touched">
                      <small *ngIf="dataForm.controls['PhoneNumber'].hasError('required')">رقم الجوال مطلوب</small>
                 </ng-container>
        </div>
        <div class="mb-3 col-sm-12 col-md-6 col-lg-3">
                 <label for="email" class="form-label">البريد الالكتروني
                 </label>
                 <input type="text" class="form-control" id="email" name="email" autocomplete="email" placeholder="الايميل" formControlName="Email" [value]="this.getDataUpdate?.email">
                  <ng-container *ngIf="dataForm.controls['Email'].invalid && dataForm.controls['Email'].touched">
                      <small *ngIf="dataForm.controls['Email'].hasError('required')">  البريد الإلكتروني مطلوب</small>
                      <small *ngIf="dataForm.controls['Email'].hasError('email')">الرجاء إدخال بريد إلكتروني صحيح</small>
                 </ng-container>

        </div>


            <!-- </div> -->








  <div class="mb-3 col-sm-12 col-md-6 col-lg-4">
                 <label for="Identitytype" class="form-label">نوع الهويه
                 </label>
                <select class="form-select" id="Identitytype" name="Identitytype" [value]="this.getDataUpdate?.idType" aria-label="Default select example" formControlName="IdType" >
                        <option value="" disabled selected>النوع</option>
                        <option value="هويه الوطنيه">هويه الوطنيه</option>
                        <option value="هويه مقيم (الاقامه)">هويه مقيم (الاقامه)</option>
                        <option value="هويه زائر">هويه زائر</option>
                        <option value="هويه خليجيه (لمواطني دول الخليج)">هويه خليجيه (لمواطني دول الخليج)</option>
                        <option value="هويه زائر (لليمنيين)">هويه زائر (لليمنيين)</option>
                        <option value="وثيقه سفر اضطراريه (للسعوديين مؤقتا)"> وثيقه سفر اضطراريه (للسعوديين مؤقتا)</option>
                        <option value="بطاقه الاحوال المدنيه  (قديمه قبل الهويه الوطنيه)">بطاقه الاحوال المدنيه  (قديمه قبل الهويه الوطنيه)</option>
                         <option value="هويه دبلوماسيه">هويه دبلوماسيه</option>
                          <option value="هويه خاصه (للمسؤولين والموظفين الرسميين)">هويه خاصه (للمسؤولين والموظفين الرسميين)</option>
                          <option value="هويه طالب (لبعض المعاهد الأمنيه والعسكريه)">هويه طالب (لبعض المعاهد الأمنيه والعسكريه)</option>
                </select>

                 <ng-container *ngIf="dataForm.controls['IdType'].invalid && dataForm.controls['IdType'].touched">
                      <small *ngIf="dataForm.controls['IdType'].hasError('required')">الرجاء اختيار نوع الهوية</small>
                 </ng-container>
        </div>

              <div class="mb-3 col-sm-12 col-md-6 col-lg-4">
                 <label for="idnumber" class="form-label">رقم الهويه
                 </label>
                 <input type="text" name="idnumber" [value]="this.getDataUpdate?.idNumber" class="form-control"  id="idnumber" placeholder="الرقم" formControlName="IdNumber" maxlength="14" inputmode="numeric" (keypress)="validateNumber($event)">

                 <ng-container *ngIf="dataForm.controls['IdNumber'].invalid && dataForm.controls['IdNumber'].touched">
                      <small *ngIf="dataForm.controls['IdNumber'].hasError('required')">رقم الهويه مطلوب</small>
                 </ng-container>
        </div>

              <div class="mb-3 col-sm-12 col-md-6 col-lg-4">
                 <label for="copyFile" class="form-label d-block">نسخه
                 </label>
                 <input type="file" id="copyFile" class="d-none"  (change)="onFileSelected($event)" name="file">
                 <label for="copyFile" class="form-label d-flex copy_identity" >
                    <div class="icon"><i class="fa-solid fa-download"></i> </div>
                     <input type="text" class="form-control" id="copy"  placeholder="نسخه" [value]="getDataUpdate ? getDataUpdate.idFileCopyPath : fileName" readonly style="pointer-events: none;">
                 </label>

                

            </div>
</div>


            <div class="btn_add_reset">
                <button type="reset" (click)="newData()">جديد</button>
                <button type="submit" [ngStyle]="{'background-color':btnUpdate == 'Add' ? '#16601A':'#fd7e14'}">{{btnUpdate=="Add" ? "اضافه" : 'تعديل'}}</button>

            </div>


    </form>
<div class="table-responsive" appIntersection="fade-in">
<table class="table table-striped mt-4" > 
  <thead>
    <tr >
      <th scope="col">م</th>
      <th scope="col">اسم المالك</th>
      <th scope="col">رقم الجوال</th>
      <th scope="col">رقم الهويه / الاقامه</th>
      <th scope="col">الادوات</th>
      <!-- <th scope="col">Handle</th> -->
    </tr>
  </thead>
  <tbody>
    @for (item of Owners?.rows; track $index) {
  <tr>
      <th scope="row">م</th>
      <td>{{item.fullName}}</td>
      <td>{{item.phoneNumber}}</td>
      <td>{{item.idNumber}}</td>
      <!-- <td>@mdo</td> -->
       <td>
       <button class="btn btn-success ms-3" (click)="getupdateData(item.id)"> <i class="fa-solid fa-pen-to-square"></i></button>
       <button class="btn btn-danger" (click)="DeleteModel(item.id)">  <i class="fa-solid fa-trash"></i></button>

       </td>
    </tr>
    }
    @empty {
       <tr>
      <td colspan="5" class="text-center py-5" style="color: #888; font-size: 18px;">
        <i class="fa-solid fa-circle-exclamation fa-2x mb-2" style="color: #ccc;"></i><br>
        لا توجد بيانات حتى الآن
      </td>
    </tr>
    }


  </tbody>
</table>
</div>

<!-- </div> -->
<div class="modal_delete" [ngClass]="{'active':this.show}">
<app-confirm-delete (toggleModal)="onClose()" (onDelete)="deleteConfirmed($event)" [itemId]="this.deleteId"></app-confirm-delete>
</div>

<!-- 
<app-pagination></app-pagination> -->


<app-pagination
  [totalPages]="Owners?.paginationInfo?.totalPagesCount"
  [currentPage]="pageIndex"
  (pageChange)="onPageChanged($event)">
</app-pagination>