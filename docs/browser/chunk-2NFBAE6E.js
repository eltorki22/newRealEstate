import{a as de}from"./chunk-EFPNG5KI.js";import{a as T}from"./chunk-GQVR4KT5.js";import{a as pe}from"./chunk-SLAQIVID.js";import{a as ce}from"./chunk-GAM3K2UG.js";import{a as me}from"./chunk-56NZCUGG.js";import{b as W,c as x,d as X,e as Z,g as ee,k as te,l as ne,m as ie,n as oe,o as ae,r as re,t as le}from"./chunk-SE6REB2C.js";import{a as se}from"./chunk-7RSTTL6O.js";import{a as K}from"./chunk-4IBYQYSO.js";import{a as ue}from"./chunk-MJHHVN4F.js";import{$ as s,A as M,D as f,Da as F,E as g,Fa as $,Ha as j,Q as l,Ra as R,Ta as B,Ua as G,Wa as Q,Xa as H,Z as c,Za as Y,ba as P,ca as E,da as D,ea as a,eb as J,fa as o,ga as _,ha as S,ia as y,ka as w,la as b,ma as h,mb as N,qa as U,ra as q,sa as z,t as V,u as v,ua as r,va as m,x as d,z as L}from"./chunk-KT3ALLZ7.js";var O=class n{http=d(Y);apiUrl=K.apiUrl;constructor(){}getDataAllList(t){return this.http.post(this.apiUrl+"/api/EmployeeLoans/ListAsync",t)}addData(t){return this.http.post(this.apiUrl+"/api/EmployeeLoans/AddAsync",t)}getUpdateData(t){return this.http.get(this.apiUrl+`/api/EmployeeLoans/GetById/${t}`)}updateData(t,e){return this.http.put(this.apiUrl+`/api/EmployeeLoans/EditAsync/${t}`,e)}deleteData(t){return this.http.delete(this.apiUrl+`/api/EmployeeLoans/DeleteAsync/${t}`)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"})};var ge=["byan"],_e=n=>({"background-color":n}),he=n=>({active:n});function Ce(n,t){n&1&&(a(0,"small"),r(1," \u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641 \u0645\u0637\u0644\u0648\u0628"),o())}function be(n,t){if(n&1&&(S(0),c(1,Ce,2,0,"small",8),y()),n&2){let e=h();l(),s("ngIf",e.FormSalafis.controls.voucherNumber.hasError("required"))}}function Se(n,t){n&1&&(a(0,"small"),r(1," \u0627\u0644\u0645\u0628\u0644\u063A \u0645\u0637\u0644\u0648\u0628"),o())}function ye(n,t){if(n&1&&(S(0),c(1,Se,2,0,"small",8),y()),n&2){let e=h();l(),s("ngIf",e.FormSalafis.controls.amount.hasError("required"))}}function xe(n,t){n&1&&(a(0,"small"),r(1," \u0627\u0644\u062A\u0627\u0631\u064A\u062E \u0645\u0637\u0644\u0648\u0628"),o())}function ve(n,t){if(n&1&&(S(0),c(1,xe,2,0,"small",8),y()),n&2){let e=h();l(),s("ngIf",e.FormSalafis.controls.voucherDate.hasError("required"))}}function Me(n,t){if(n&1&&(a(0,"option",17),r(1),o()),n&2){let e=t.$implicit;s("value",e.id),l(),m(e.fullName)}}function Pe(n,t){n&1&&(a(0,"small"),r(1," \u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641 \u0645\u0637\u0644\u0648\u0628"),o())}function Ee(n,t){if(n&1&&(S(0),c(1,Pe,2,0,"small",8),y()),n&2){let e=h();l(),s("ngIf",e.FormSalafis.controls.employeeId.hasError("required"))}}function De(n,t){if(n&1&&(a(0,"option",17),r(1),o()),n&2){let e=t.$implicit;s("value",e.id),l(),m(e.accountName)}}function Oe(n,t){n&1&&(a(0,"small"),r(1," \u0627\u0633\u0645 \u0627\u0644\u062D\u0633\u0627\u0628 \u0645\u0637\u0644\u0648\u0628"),o())}function Ie(n,t){if(n&1&&(S(0),c(1,Oe,2,0,"small",8),y()),n&2){let e=h();l(),s("ngIf",e.FormSalafis.controls.accountId.hasError("required"))}}function Ae(n,t){if(n&1){let e=w();a(0,"tr")(1,"th",30),r(2),o(),a(3,"td"),r(4),o(),a(5,"td"),r(6),o(),a(7,"td"),r(8),o(),a(9,"td"),r(10),$(11,"date"),o(),a(12,"td"),r(13),o(),a(14,"td",31)(15,"button",32),b("click",function(){let u=f(e).$implicit,p=h();return g(p.getUpdateData(u.id))}),_(16,"i",33),o(),a(17,"button",34),b("click",function(){let u=f(e).$implicit,p=h();return g(p.deleteModel(u.id))}),_(18,"i",35),o()()()}if(n&2){let e=t.$implicit,i=t.$index;l(2),m(i+1),l(2),m(e.voucherNumber),l(2),m(e.employeeName),l(2),m(e.amount),l(2),m(j(11,6,e.voucherDate,"dd/MM/yyyy")),l(3),m(e.accountName)}}function we(n,t){n&1&&(a(0,"tr")(1,"td",36),_(2,"i",37)(3,"br"),r(4," \u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A \u062D\u062A\u0649 \u0627\u0644\u0622\u0646 "),o()())}var I=class n{visibleFilter=!1;fb=d(re);toastr=d(se);employeeSer=d(de);salafisSer=d(O);accounts=d(pe);subScription;employeeData;accountsData;getAllData;btnText="Add";show=!1;byan;FormSalafis;pageIndex=1;pageSize=10;idUpadate;title=d(J);ngOnInit(){this.title.setTitle("\u0627\u0644\u0633\u0644\u0641\u064A\u0627\u062A"),this.FormSalafis=this.fb.group({voucherNumber:["",x.required],voucherDate:[T(),x.required],amount:["",x.required],employeeId:["",x.required],accountId:["",x.required]}),this.getDataEmployee(),this.getDataAccounts(),this.getAllDataList()}onSubmit(){var t=this.FormSalafis.value;this.FormSalafis.valid?(this.btnText=="Add"?this.subScription=this.salafisSer.addData(t).subscribe({next:e=>{this.getAllDataList(),this.toastr.show("\u062A\u0645 \u0627\u0636\u0627\u0641\u0647 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0628\u0646\u062C\u0627\u062D","success")},error:e=>{if(e.error.errors){let i=e.error.errors;for(let u in i)i[u].forEach(C=>{this.toastr.show(C,"error")})}else this.toastr.show("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0639\u0645\u0644\u064A\u0629","error")}}):this.subScription=this.salafisSer.updateData(this.idUpadate,t).subscribe(e=>{this.getAllDataList(),this.toastr.show("\u062A\u0645 \u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0628\u0646\u062C\u0627\u062D","success"),this.btnText="Add"}),this.FormSalafis.reset({voucherDate:this.FormSalafis.value.voucherDate}),this.byan.nativeElement.value=""):this.FormSalafis.markAllAsTouched()}getDataEmployee(){let t={pageIndex:0,pageSize:0};this.subScription=this.employeeSer.getDataAllList(t).subscribe(e=>{this.employeeData=e.rows.map(i=>({id:i.id,fullName:i.fullName}))})}getDataAccounts(){let t={pageIndex:0,pageSize:0};this.subScription=this.accounts.getAllDataList(t).subscribe(e=>{this.accountsData=e.rows.map(i=>({id:i.id,accountName:i.accountName}))})}validationNumber(t){var e=t.key.charCodeAt(0);(e<48||e>57)&&t.preventDefault()}getAllDataList(){let t={pageIndex:this.pageIndex,pageSize:this.pageSize};this.subScription=this.salafisSer.getDataAllList(t).subscribe(e=>{this.getAllData={paginationInfo:e.paginationInfo,rows:e.rows.map(i=>({id:i.id,employeeName:i.employeeName,voucherDate:i.voucherDate,voucherNumber:i.voucherNumber,amount:i.amount,accountName:i.accountName}))}})}onPageChanged(t){this.pageIndex=t,this.getAllDataList()}getUpdateData(t){this.subScription=this.salafisSer.getUpdateData(t).subscribe(e=>{this.FormSalafis.patchValue({voucherNumber:e.voucherNumber,voucherDate:T(),amount:e.amount,employeeId:e.employeeId,accountId:e.accountId})}),this.idUpadate=t,this.btnText="update"}deleteId;onClose(){this.show=!1}deleteConfirmed(t){this.subScription=this.salafisSer.deleteData(t).subscribe(e=>{this.toastr.show("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A","success"),this.show=!1,this.getAllDataList()})}deleteModel(t){this.deleteId=t,this.show=!0}ngOnDestroy(){this.subScription&&this.subScription.unsubscribe()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=L({type:n,selectors:[["app-salafis"]],viewQuery:function(e,i){if(e&1&&U(ge,5),e&2){let u;q(u=z())&&(i.byan=u.first)}},decls:73,vars:18,consts:[["byan",""],["appIntersection","fade-in",1,"title-page"],["src","assets/dashboard/iconarrowdouble.png","alt","icon",1,"mx-1"],["appIntersection","fade-in",1,"forms_dashboard",3,"ngSubmit","formGroup"],[1,"row"],[1,"my-3","col-sm-12","col-md-6","col-lg-4"],["for","numsand",1,"form-label"],["type","text","id","numsand","placeholder","\u0627\u0644\u0631\u0642\u0645","formControlName","voucherNumber",1,"form-control"],[4,"ngIf"],["for","mablg",1,"form-label"],["type","text","id","mablg","placeholder","\u0627\u0644\u0645\u0628\u0644\u063A","formControlName","amount",1,"form-control",3,"keypress"],["for","date1",1,"form-label"],["type","date","id","date1","placeholder","\u0627\u0644\u062A\u0627\u0631\u0628\u062E","formControlName","voucherDate",1,"form-control"],[1,"mb-3","col-sm-12"],["for","nameEmp",1,"form-label"],["id","nameEmp","aria-label","Default select example","formControlName","employeeId",1,"form-select"],["value","","disabled","","selected",""],[3,"value"],["for","accountId",1,"form-label"],["id","accountId","aria-label","Default select example","formControlName","accountId",1,"form-select"],["for","bayan",1,"form-label"],["name","","id","bayan","placeholder","\u0627\u0643\u062A\u0628 \u0627\u0644\u0645\u062D\u062A\u0648\u064A",1,"form-control",2,"font-size","12px","font-weight","400","height","124px","color","#7F7F7F"],[1,"btn_add_reset"],["type","submit",3,"ngStyle"],["appIntersection","fade-in",1,"table-responsive","pe-0"],[1,"table","table-striped","mt-4"],["scope","col"],[3,"pageChange","totalPages","currentPage"],[1,"modal_delete",3,"ngClass"],[3,"toggleModal","onDelete","isVisible","itemId"],["scope","row"],[1,"btn_table"],[1,"btn","btn-success","ms-3",3,"click"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","btn-danger",3,"click"],[1,"fa-solid","fa-trash"],["colspan","5",1,"text-center","py-5",2,"color","#888","font-size","18px"],[1,"fa-solid","fa-circle-exclamation","fa-2x","mb-2",2,"color","#ccc"]],template:function(e,i){if(e&1){let u=w();a(0,"h3",1),r(1,"\u0627\u0644\u0627\u062F\u0648\u0627\u062A "),_(2,"img",2),a(3,"span"),r(4,"\u0627\u0644\u0633\u0644\u0641\u064A\u0627\u062A"),o()(),a(5,"form",3),b("ngSubmit",function(){return f(u),g(i.onSubmit())}),a(6,"div",4)(7,"div",5)(8,"label",6),r(9,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062F"),o(),_(10,"input",7),c(11,be,2,1,"ng-container",8),o(),a(12,"div",5)(13,"label",9),r(14,"\u0627\u0644\u0645\u0628\u0644\u063A"),o(),a(15,"input",10),b("keypress",function(C){return f(u),g(i.validationNumber(C))}),o(),c(16,ye,2,1,"ng-container",8),o(),a(17,"div",5)(18,"label",11),r(19,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),o(),_(20,"input",12),c(21,ve,2,1,"ng-container",8),o(),a(22,"div",13)(23,"label",14),r(24,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641"),o(),a(25,"select",15)(26,"option",16),r(27,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641"),o(),E(28,Me,2,2,"option",17,P),o(),c(30,Ee,2,1,"ng-container",8),o(),a(31,"div",13)(32,"label",18),r(33,"\u0627\u0644\u062D\u0633\u0627\u0628"),o(),a(34,"select",19)(35,"option",16),r(36,"\u0627\u0644\u062D\u0633\u0627\u0628"),o(),E(37,De,2,2,"option",17,P),o(),c(39,Ie,2,1,"ng-container",8),o(),a(40,"div",13)(41,"label",20),r(42,"\u0627\u0644\u0628\u064A\u0627\u0646"),o(),_(43,"textarea",21,0),o()(),a(45,"div",22)(46,"button",23),r(47),o()()(),a(48,"div",24)(49,"table",25)(50,"thead")(51,"tr")(52,"th",26),r(53,"\u0645"),o(),a(54,"th",26),r(55,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062F"),o(),a(56,"th",26),r(57,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641"),o(),a(58,"th",26),r(59,"\u0627\u0644\u0645\u0628\u0644\u063A "),o(),a(60,"th",26),r(61,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),o(),a(62,"th",26),r(63,"\u0627\u0644\u062D\u0633\u0627\u0628"),o(),a(64,"th",26),r(65,"\u0627\u0644\u0627\u062F\u0648\u0627\u062A"),o()()(),a(66,"tbody"),E(67,Ae,19,9,"tr",null,P,!1,we,5,0,"tr"),o()()(),a(70,"app-pagination",27),b("pageChange",function(C){return f(u),g(i.onPageChanged(C))}),o(),a(71,"div",28)(72,"app-confirm-delete",29),b("toggleModal",function(){return f(u),g(i.onClose())})("onDelete",function(C){return f(u),g(i.deleteConfirmed(C))}),o()()}e&2&&(l(5),s("formGroup",i.FormSalafis),l(6),s("ngIf",i.FormSalafis.controls.voucherNumber.invalid&&i.FormSalafis.controls.voucherNumber.touched),l(5),s("ngIf",i.FormSalafis.controls.amount.invalid&&i.FormSalafis.controls.amount.touched),l(5),s("ngIf",i.FormSalafis.controls.voucherDate.invalid&&i.FormSalafis.controls.voucherDate.touched),l(7),D(i.employeeData),l(2),s("ngIf",i.FormSalafis.controls.employeeId.invalid&&i.FormSalafis.controls.employeeId.touched),l(7),D(i.accountsData),l(2),s("ngIf",i.FormSalafis.controls.accountId.invalid&&i.FormSalafis.controls.accountId.touched),l(7),s("ngStyle",F(14,_e,i.btnText=="Add"?"#16601A":"#fd7e14")),l(),m(i.btnText=="Add"?"\u062D\u0641\u0638":"\u062A\u0639\u062F\u064A\u0644"),l(20),D(i.getAllData==null?null:i.getAllData.rows),l(3),s("totalPages",i.getAllData==null||i.getAllData.paginationInfo==null?null:i.getAllData.paginationInfo.totalPagesCount)("currentPage",i.pageIndex),l(),s("ngClass",F(16,he,i.show)),l(),s("isVisible",i.show)("itemId",i.deleteId))},dependencies:[R,B,G,ee,oe,ae,W,ie,X,Z,te,ne,me,ce,ue,Q],styles:['.search[_ngcontent-%COMP%]{position:relative}.search[_ngcontent-%COMP%]   .filter_search[_ngcontent-%COMP%]{position:absolute;left:0;top:50%;transform:translateY(-50%)}.search[_ngcontent-%COMP%]   .filter_search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:#cecece}.search[_ngcontent-%COMP%]   .filter_search[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .search[_ngcontent-%COMP%]   .filter_search[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#7f7f7f}.search[_ngcontent-%COMP%]   .filter_search[_ngcontent-%COMP%]   .drop-down[_ngcontent-%COMP%]{position:absolute;right:-102px;opacity:0;visibility:hidden;transition:.3s;top:calc(100% + 15px)}.search[_ngcontent-%COMP%]   .filter_search[_ngcontent-%COMP%]   .drop-down.show[_ngcontent-%COMP%]{opacity:1;visibility:visible}.search[_ngcontent-%COMP%]   .filter_search[_ngcontent-%COMP%]   .drop-down[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-16px;right:115px;border-width:8px;border-style:solid;border-color:transparent transparent #16601A transparent}.search[_ngcontent-%COMP%]   .filter_search[_ngcontent-%COMP%]   .drop-down[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;width:150px;background-color:#fff;padding:10px;border-radius:4px;box-shadow:0 0 .25rem #00000045}.search[_ngcontent-%COMP%]   .filter_search[_ngcontent-%COMP%]   .drop-down[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none;padding:5px;font-size:14px;width:100%;display:block;margin:5px}.search[_ngcontent-%COMP%]   .filter_search[_ngcontent-%COMP%]   .drop-down[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#16601a;color:#fff}.button_data[_ngcontent-%COMP%]{text-align:left}.button_data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:20px 10px;width:99px;height:32px;border:1px solid #16601A;border-radius:4px;background-color:transparent;color:#16601a}.forms_dashboard[_ngcontent-%COMP%]   .row_part[_ngcontent-%COMP%]{background-color:#eef5ef;padding:15px}.forms_dashboard[_ngcontent-%COMP%]   .readonly_input[_ngcontent-%COMP%]{position:relative}.forms_dashboard[_ngcontent-%COMP%]   .readonly_input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{pointer-events:none}.forms_dashboard[_ngcontent-%COMP%]   .readonly_input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;top:4px;right:22px;z-index:1000}.form_search[_ngcontent-%COMP%]{position:relative}.form_search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:30px;background-color:#7f7f7f;font-size:12px;font-weight:400}.form_search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;background-color:transparent;border:0;left:18px;top:4px;color:#7f7f7f}.nummor_eye[_ngcontent-%COMP%]{position:relative}.nummor_eye[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;left:4px;top:4px;width:25px;height:25px}.nummor_eye[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:13%;top:24%}.transmission[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}.transmission[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;-moz-appearance:none;width:14px;height:14px;border:2px solid #16601A;border-radius:50%;position:relative}.transmission[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked:after{content:"";position:absolute;width:9px;height:9px;background-color:#16601a;border-radius:50%;left:1px;top:1px}']})};var Fe=[{path:"",component:I}],A=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=M({type:n});static \u0275inj=v({imports:[N.forChild(Fe),N]})};var fe=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=M({type:n});static \u0275inj=v({imports:[H,A,le]})};export{fe as SalafisModule};
