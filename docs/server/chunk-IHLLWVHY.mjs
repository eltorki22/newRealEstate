import './polyfills.server.mjs';
import{a as V}from"./chunk-II2I7Y45.mjs";import{b as T,c as _,d as x,e as N,g as M,k as I,l as w,r as E,t as j}from"./chunk-SEX4FTRS.mjs";import{a as G}from"./chunk-25GN7LD3.mjs";import{a as R}from"./chunk-STSOJLVA.mjs";import"./chunk-O7L3E3EA.mjs";import{Lb as g,V as d,ca as f,ea as u,ib as F,ja as i,ka as n,la as C,ma as y,mb as A,na as D,qa as v,r as s,ra as S,u as m,x as b,y as a,za as p}from"./chunk-Q2DPBFOB.mjs";import"./chunk-5XUXGTUW.mjs";function B(e,o){e&1&&(i(0,"small"),p(1," \u0627\u0644\u0634\u0631\u0648\u0637 \u0648\u0627\u0644\u0627\u062D\u0643\u0627\u0645 \u0645\u0637\u0644\u0648\u0628\u0647"),n())}function O(e,o){if(e&1&&(y(0),f(1,B,2,0,"small",5),D()),e&2){let t=S();d(),u("ngIf",t.companyForm.controls.termsAndConditions.hasError("required"))}}var c=class e{companyForm;fb=m(E);toastr=m(R);sub;mainDataSer=m(V);ngOnInit(){this.companyForm=this.fb.group({termsAndConditions:["",[_.required]]}),this.getAllDataList()}onSubmit(){if(this.companyForm.invalid){this.companyForm.markAllAsTouched();return}let o={termsAndConditions:this.companyForm.value.termsAndConditions};this.sub=this.mainDataSer.updateDataTerms(o).subscribe({next:t=>{this.toastr.show(" \u062A\u0645 \u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0628\u0646\u062C\u0627\u062D","success"),this.getAllDataList()},error:t=>{if(t.error.errors){let r=t.error.errors;for(let h in r)r[h].forEach(q=>{this.toastr.show(q,"error")})}else this.toastr.show("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0639\u0645\u0644\u064A\u0629","error")}})}getAllDataList(){this.sub=this.mainDataSer.getDataTerms().subscribe(o=>{console.log(o),this.companyForm.patchValue({termsAndConditions:o.termsAndConditions})})}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=b({type:e,selectors:[["app-terms"]],decls:10,vars:2,consts:[["appIntersection","fade-in",1,"forms_dashboard",3,"ngSubmit","formGroup"],[1,"row","align-items-center"],[1,"mb-3","col-sm-12"],["for","terms",1,"form-label"],["id","terms","placeholder"," \u0627\u0643\u062A\u0628 \u0627\u0644\u0645\u062D\u062A\u0648\u064A","formControlName","termsAndConditions",1,"form-control","mt-3",2,"height","510px","font-size","12px","font-weight","400","border-radius","4px"],[4,"ngIf"],[1,"btn_add_reset"],["type","submit"]],template:function(t,r){t&1&&(i(0,"form",0),v("ngSubmit",function(){return r.onSubmit()}),i(1,"div",1)(2,"div",2)(3,"label",3),p(4,"\u0627\u0644\u0634\u0631\u0648\u0637 \u0648\u0627\u0644\u0627\u062D\u0643\u0627\u0645"),n(),C(5,"textarea",4),f(6,O,2,1,"ng-container",5),n()(),i(7,"div",6)(8,"button",7),p(9,"\u062D\u0641\u0638"),n()()()),t&2&&(u("formGroup",r.companyForm),d(6),u("ngIf",r.companyForm.controls.termsAndConditions.invalid&&r.companyForm.controls.termsAndConditions.touched))},dependencies:[F,M,T,x,N,I,w,G]})};var z=[{path:"",component:c}],l=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=a({type:e});static \u0275inj=s({imports:[g.forChild(z),g]})};var k=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=a({type:e});static \u0275inj=s({imports:[A,l,j]})};export{k as TermsModule};
