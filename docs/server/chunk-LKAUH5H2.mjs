import './polyfills.server.mjs';
import{a as le}from"./chunk-IDQ72HWK.mjs";import{a as D}from"./chunk-RRDOTRIX.mjs";import{a as ae}from"./chunk-6IRC5T3T.mjs";import{a as ue}from"./chunk-7UXGEFHX.mjs";import{b as J,c as v,d as K,e as Q,g as W,k as X,l as Y,m as Z,n as ee,o as te,r as ne,t as ie}from"./chunk-SEX4FTRS.mjs";import{a as re}from"./chunk-25GN7LD3.mjs";import{a as oe}from"./chunk-STSOJLVA.mjs";import{a as C}from"./chunk-O7L3E3EA.mjs";import{Aa as p,B as T,C as w,Cb as H,Ia as M,Ka as P,Lb as k,Ma as R,V as u,ca as m,ea as l,ga as x,gb as $,ha as y,ia as I,ib as j,ja as o,jb as z,ka as i,la as g,lb as B,ma as h,mb as G,na as _,pa as L,q as U,qa as b,r as A,ra as d,sb as O,u as f,x as q,y as S,za as a}from"./chunk-Q2DPBFOB.mjs";import"./chunk-5XUXGTUW.mjs";var E=class t{http=f(O);apiUrl=C.apiUrl;constructor(){}getAllListData(n){return this.http.post(this.apiUrl+"/api/ReceiptVoucher/ListAsync",n)}getNameTenant(){return this.http.post(this.apiUrl+"/api/Tenant/ListAsync",{pageIndex:0,pageSize:0})}addData(n){return this.http.post(this.apiUrl+"/api/ReceiptVoucher/AddAsync",n)}getUpdateData(n){return this.http.get(C.apiUrl+`/api/ReceiptVoucher/GetById/${n}`)}updateData(n,e){return this.http.put(C.apiUrl+`/api/ReceiptVoucher/EditAsync/${n}`,e)}deleteData(n){return this.http.delete(C.apiUrl+`/api/ReceiptVoucher/DeleteAsync/${n}`)}static \u0275fac=function(e){return new(e||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})};var se=t=>({"background-color":t}),pe=t=>({active:t});function de(t,n){t&1&&(o(0,"small"),a(1," \u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062F \u0645\u0637\u0644\u0648\u0628"),i())}function fe(t,n){if(t&1&&(h(0),m(1,de,2,0,"small",7),_()),t&2){let e=d();u(),l("ngIf",e.receiptForm.controls.voucherNumber.hasError("required"))}}function ge(t,n){t&1&&(o(0,"small"),a(1," \u0627\u0644\u0645\u0628\u0644\u063A \u0645\u0637\u0644\u0648\u0628"),i())}function he(t,n){if(t&1&&(h(0),m(1,ge,2,0,"small",7),_()),t&2){let e=d();u(),l("ngIf",e.receiptForm.controls.amount.hasError("required"))}}function _e(t,n){t&1&&(o(0,"small"),a(1," \u0627\u0644\u062A\u0627\u0631\u064A\u062E \u0645\u0637\u0644\u0648\u0628"),i())}function be(t,n){if(t&1&&(h(0),m(1,_e,2,0,"small",7),_()),t&2){let e=d();u(),l("ngIf",e.receiptForm.controls.voucherDate.hasError("required"))}}function ve(t,n){if(t&1&&(o(0,"option",16),a(1),i()),t&2){let e=n.$implicit;l("value",e.id),u(),p(e.fullName)}}function Ce(t,n){t&1&&(o(0,"small"),a(1," \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u0623\u062C\u0631 \u0645\u0637\u0644\u0648\u0628"),i())}function Ae(t,n){if(t&1&&(h(0),m(1,Ce,2,0,"small",7),_()),t&2){let e=d();u(),l("ngIf",e.receiptForm.controls.tenantId.hasError("required"))}}function Se(t,n){if(t&1&&(o(0,"option",16),a(1),i()),t&2){let e=n.$implicit;l("value",e.id),u(),p(e.accountName)}}function xe(t,n){t&1&&(o(0,"small"),a(1," \u0627\u0644\u062D\u0633\u0627\u0628 \u0645\u0637\u0644\u0648\u0628"),i())}function ye(t,n){if(t&1&&(h(0),m(1,xe,2,0,"small",7),_()),t&2){let e=d();u(),l("ngIf",e.receiptForm.controls.accountsId.hasError("required"))}}function Ie(t,n){t&1&&(o(0,"small"),a(1," \u0627\u0644\u0648\u0635\u0641 \u0645\u0637\u0644\u0648\u0628"),i())}function De(t,n){if(t&1&&(h(0),m(1,Ie,2,0,"small",7),_()),t&2){let e=d();u(),l("ngIf",e.receiptForm.controls.description.hasError("required"))}}function Ee(t,n){if(t&1){let e=L();o(0,"tr")(1,"th",29),a(2),i(),o(3,"td"),a(4),i(),o(5,"td"),a(6),i(),o(7,"td"),a(8),P(9,"date"),i(),o(10,"td"),a(11),i(),o(12,"td"),a(13),i(),o(14,"td")(15,"button",30),b("click",function(){let c=T(e).$implicit,s=d();return w(s.getUpdateData(c.id))}),g(16,"i",31),i(),o(17,"button",32),b("click",function(){let c=T(e).$implicit,s=d();return w(s.deleteModel(c.id))}),g(18,"i",33),i()()()}if(t&2){let e=n.$implicit,r=n.$index;u(2),p(r+1),u(2),p(e.voucherNumber),u(2),p(e.amount),u(2),p(R(9,6,e.voucherDate,"dd/MM/yyyy")),u(3),p(e.tenantName),u(2),p(e.accountName)}}function Fe(t,n){t&1&&(o(0,"tr")(1,"td",34),g(2,"i",35)(3,"br"),a(4," \u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A \u062D\u062A\u0649 \u0627\u0644\u0622\u0646 "),i()())}var F=class t{receiptForm;fb=f(ne);toastr=f(oe);btnText="Add";idUpdate;arrestDocument=f(E);accountSer=f(le);getData;subScription;getNameTenantData=[];getNameAccounts=[];date=D();pageIndex=1;pageSize=10;title=f(H);ngOnInit(){this.title.setTitle("\u0633\u0646\u062F \u0627\u0644\u0642\u0628\u0636"),this.receiptForm=this.fb.group({voucherNumber:["",v.required],amount:["",[v.required]],voucherDate:[D(),v.required],tenantId:["",v.required],accountsId:["",v.required],description:[""]}),this.getAllListData(),this.getNameTenant(),this.getAccountName()}onSubmit(){let n={voucherNumber:this.receiptForm.get("voucherNumber").value,amount:this.receiptForm.get("amount").value,voucherDate:this.receiptForm.get("voucherDate").value,tenantId:this.receiptForm.get("tenantId").value,accountsId:this.receiptForm.get("accountsId").value,description:this.receiptForm.get("description").value};this.receiptForm.valid?(this.btnText=="Add"?this.subScription=this.arrestDocument.addData(n).subscribe({next:e=>{this.getAllListData(),this.toastr.show("\u062A\u0645 \u0627\u0636\u0627\u0641\u0647 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0628\u0646\u062C\u0627\u062D","success")},error:e=>{if(e.error.errors){let r=e.error.errors;for(let c in r)r[c].forEach(ce=>{this.toastr.show(ce,"error")})}else this.toastr.show("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0639\u0645\u0644\u064A\u0629","error")}}):this.subScription=this.arrestDocument.updateData(this.idUpdate,n).subscribe(e=>{this.getAllListData(),this.toastr.show("\u062A\u0645 \u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0628\u0646\u062C\u0627\u062D","success"),this.btnText="Add"}),this.receiptForm.reset()):this.receiptForm.markAllAsTouched()}getUpdateData(n){this.idUpdate=n,this.btnText="update",this.subScription=this.arrestDocument.getUpdateData(n).subscribe(e=>{this.receiptForm.patchValue({voucherNumber:e.voucherNumber,amount:e.amount,voucherDate:D(),tenantId:e.tenantId,accountsId:e.accountsId,description:e.description})})}validationNumber(n){let e=n.key.charCodeAt(0);(e<48||e>57)&&n.preventDefault()}getAllListData(){let n={pageIndex:this.pageIndex,pageSize:this.pageSize};this.subScription=this.arrestDocument.getAllListData(n).subscribe(e=>{this.getData=e})}getNameTenant(){this.subScription=this.arrestDocument.getNameTenant().subscribe(n=>{this.getNameTenantData=n.rows})}getAccountName(){let n={pageIndex:0,pageSize:0};this.subScription=this.accountSer.getAllDataList(n).subscribe(e=>{this.getNameAccounts=e.rows})}show=!1;deleteId;onClose(){this.show=!1}deleteConfirmed(n){this.toastr.show("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A","success"),this.show=!1,this.subScription=this.arrestDocument.deleteData(n).subscribe(e=>{this.getAllListData()})}deleteModel(n){this.show=!0,this.deleteId=n}ngOnDestroy(){this.subScription&&this.subScription.unsubscribe()}onPageChanged(n){this.pageIndex=n,this.getAllListData()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=q({type:t,selectors:[["app-arestdocument"]],decls:73,vars:20,consts:[["appIntersection","fade-in",1,"title-page"],["src","assets/dashboard/iconarrowdouble.png","alt","icon",1,"mx-1"],["appIntersection","fade-in",1,"forms_dashboard",3,"ngSubmit","formGroup"],[1,"row"],[1,"mb-3","col-sm-12","col-md-6","col-lg-4"],["for","arestnumber",1,"form-label"],["type","text","id","arestnumber","formControlName","voucherNumber","placeholder","\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062F",1,"form-control"],[4,"ngIf"],["for","mblag",1,"form-label"],["type","text","id","mblag","formControlName","mblag","placeholder","\u0627\u0644\u0645\u0628\u0644\u063A","formControlName","amount",1,"form-control",3,"keypress"],["for","date",1,"form-label"],["type","date","id","date","placeholder","\u0627\u0644\u062A\u0627\u0631\u064A\u062E","formControlName","voucherDate",1,"form-control",3,"value"],[1,"mb-3","col-sm-12"],["for","tenantname",1,"form-label"],["id","tenantname","formControlName","tenantId",1,"form-select"],["value","","disabled","","selected",""],[3,"value"],["for","hesap",1,"form-label"],["id","hesap","formControlName","accountsId",1,"form-select"],["for","baian",1,"form-label"],["id","baian","formControlName","description","placeholder","\u0627\u0643\u062A\u0628 \u0627\u0644\u0645\u062D\u062A\u0648\u064A",1,"form-control",2,"height","124px","padding","15px","font-size","12px","font-weight","400","color","#7F7F7F"],[1,"btn_add_reset"],["type","submit",3,"ngStyle"],["appIntersection","fade-in",1,"table-responsive"],[1,"table","table-striped","mt-4"],["scope","col"],[1,"modal_delete",3,"ngClass"],[3,"toggleModal","onDelete","isVisible","itemId"],[3,"pageChange","totalPages","currentPage"],["scope","row"],[1,"btn","btn-success","ms-3",3,"click"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","btn-danger",3,"click"],[1,"fa-solid","fa-trash"],["colspan","5",1,"text-center","py-5",2,"color","#888","font-size","18px"],[1,"fa-solid","fa-circle-exclamation","fa-2x","mb-2",2,"color","#ccc"]],template:function(e,r){e&1&&(o(0,"h3",0),a(1,"\u0627\u0644\u0627\u062F\u0648\u0627\u062A "),g(2,"img",1),o(3,"span"),a(4,"\u0633\u0646\u062F \u0627\u0644\u0642\u0628\u0636"),i()(),o(5,"form",2),b("ngSubmit",function(){return r.onSubmit()}),o(6,"div",3)(7,"div",4)(8,"label",5),a(9,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062F"),i(),g(10,"input",6),m(11,fe,2,1,"ng-container",7),i(),o(12,"div",4)(13,"label",8),a(14,"\u0627\u0644\u0645\u0628\u0644\u063A"),i(),o(15,"input",9),b("keypress",function(s){return r.validationNumber(s)}),i(),m(16,he,2,1,"ng-container",7),i(),o(17,"div",4)(18,"label",10),a(19,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),i(),g(20,"input",11),m(21,be,2,1,"ng-container",7),i(),o(22,"div",12)(23,"label",13),a(24,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u0623\u062C\u0631"),i(),o(25,"select",14)(26,"option",15),a(27,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u0623\u062C\u0631"),i(),y(28,ve,2,2,"option",16,x),i(),m(30,Ae,2,1,"ng-container",7),i(),o(31,"div",12)(32,"label",17),a(33,"\u0627\u0644\u062D\u0633\u0627\u0628"),i(),o(34,"select",18)(35,"option",15),a(36,"\u0627\u0644\u062D\u0633\u0627\u0628"),i(),y(37,Se,2,2,"option",16,x),i(),m(39,ye,2,1,"ng-container",7),i(),o(40,"div",12)(41,"label",19),a(42,"\u0627\u0644\u0628\u064A\u0627\u0646"),i(),g(43,"textarea",20),m(44,De,2,1,"ng-container",7),i()(),o(45,"div",21)(46,"button",22),a(47),i()()(),o(48,"div",23)(49,"table",24)(50,"thead")(51,"tr")(52,"th",25),a(53,"\u0645"),i(),o(54,"th",25),a(55," \u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062F"),i(),o(56,"th",25),a(57,"\u0627\u0644\u0645\u0628\u0644\u063A"),i(),o(58,"th",25),a(59,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),i(),o(60,"th",25),a(61," \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u0623\u062C\u0631"),i(),o(62,"th",25),a(63,"\u0627\u0644\u062D\u0633\u0627\u0628"),i(),o(64,"th",25),a(65,"\u0627\u0644\u0627\u062F\u0648\u0627\u062A"),i()()(),o(66,"tbody"),y(67,Ee,19,9,"tr",null,x,!1,Fe,5,0,"tr"),i()()(),o(70,"div",26)(71,"app-confirm-delete",27),b("toggleModal",function(){return r.onClose()})("onDelete",function(s){return r.deleteConfirmed(s)}),i()(),o(72,"app-pagination",28),b("pageChange",function(s){return r.onPageChanged(s)}),i()),e&2&&(u(5),l("formGroup",r.receiptForm),u(6),l("ngIf",r.receiptForm.controls.voucherNumber.invalid&&r.receiptForm.controls.voucherNumber.touched),u(5),l("ngIf",r.receiptForm.controls.amount.invalid&&r.receiptForm.controls.amount.touched),u(4),l("value",r.date),u(),l("ngIf",r.receiptForm.controls.voucherDate.invalid&&r.receiptForm.controls.voucherDate.touched),u(7),I(r.getNameTenantData),u(2),l("ngIf",r.receiptForm.controls.tenantId.invalid&&r.receiptForm.controls.tenantId.touched),u(7),I(r.getNameAccounts),u(2),l("ngIf",r.receiptForm.controls.accountsId.invalid&&r.receiptForm.controls.accountsId.touched),u(5),l("ngIf",r.receiptForm.controls.description.invalid&&r.receiptForm.controls.description.touched),u(2),l("ngStyle",M(16,se,r.btnText=="Add"?"#16601A":"#fd7e14")),u(),p(r.btnText=="Add"?"\u062D\u0641\u0638":"\u062A\u0639\u062F\u064A\u0644"),u(20),I(r.getData==null?null:r.getData.rows),u(3),l("ngClass",M(18,pe,r.show)),u(),l("isVisible",r.show)("itemId",r.deleteId),u(),l("totalPages",r.getData==null||r.getData.paginationInfo==null?null:r.getData.paginationInfo.totalPagesCount)("currentPage",r.pageIndex))},dependencies:[$,j,z,W,ee,te,J,Z,K,Q,X,Y,ae,ue,re,B]})};var Ne=[{path:"",component:F}],N=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=S({type:t});static \u0275inj=A({imports:[k.forChild(Ne),k]})};var me=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=S({type:t});static \u0275inj=A({imports:[G,N,ie]})};export{me as ArestdocumentModule};
