import './polyfills.server.mjs';
import{a as B}from"./chunk-II2I7Y45.mjs";import{a as M,b as k,c,d as T,e as D,g as I,k as R,l as q,r as w,t as P}from"./chunk-SEX4FTRS.mjs";import{a as j}from"./chunk-25GN7LD3.mjs";import{a as V}from"./chunk-STSOJLVA.mjs";import"./chunk-O7L3E3EA.mjs";import{Lb as A,V as m,W as F,ca as l,ea as u,ib as S,ja as i,ka as a,la as g,ma as p,mb as N,na as d,qa as y,r as b,ra as f,u as x,x as E,y as C,za as r}from"./chunk-Q2DPBFOB.mjs";import"./chunk-5XUXGTUW.mjs";function $(e,t){e&1&&(i(0,"small"),r(1,"\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0647 \u0628\u0627\u0644\u0639\u0631\u0628\u064A \u0645\u0637\u0644\u0648\u0628"),a())}function z(e,t){if(e&1&&(p(0),l(1,$,2,0,"small",5),d()),e&2){let n=f();m(),u("ngIf",n.companyForm.controls.nameAr.hasError("required"))}}function Z(e,t){e&1&&(i(0,"small"),r(1,"\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0647 \u0628\u0627\u0644\u0627\u0646\u062C\u0644\u064A\u0632\u064A \u0645\u0637\u0644\u0648\u0628"),a())}function H(e,t){if(e&1&&(p(0),l(1,Z,2,0,"small",5),d()),e&2){let n=f();m(),u("ngIf",n.companyForm.controls.nameEn.hasError("required"))}}function J(e,t){e&1&&(i(0,"small"),r(1,"\u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644 \u0645\u0637\u0644\u0648\u0628"),a())}function K(e,t){if(e&1&&(p(0),l(1,J,2,0,"small",5),d()),e&2){let n=f();m(),u("ngIf",n.companyForm.controls.phoneNumber.hasError("required"))}}function Q(e,t){e&1&&(i(0,"small"),r(1," \u0627\u0644\u0627\u064A\u0645\u064A\u0644 \u0645\u0637\u0644\u0648\u0628"),a())}function U(e,t){e&1&&(i(0,"small"),r(1,"\u0627\u0644\u0631\u062C\u0627\u0621 \u0625\u062F\u062E\u0627\u0644 \u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0635\u062D\u064A\u062D"),a())}function W(e,t){if(e&1&&(p(0),l(1,Q,2,0,"small",5)(2,U,2,0,"small",5),d()),e&2){let n=f();m(),u("ngIf",n.companyForm.controls.email.hasError("required")),m(),u("ngIf",n.companyForm.controls.email.hasError("email"))}}function X(e,t){e&1&&(i(0,"small"),r(1," \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064A\u0628\u064A \u0645\u0637\u0644\u0648\u0628"),a())}function Y(e,t){if(e&1&&(p(0),l(1,X,2,0,"small",5),d()),e&2){let n=f();m(),u("ngIf",n.companyForm.controls.taxNumber.hasError("required"))}}function ee(e,t){e&1&&(i(0,"small"),r(1," \u0627\u0644\u0633\u062C\u0644 \u0627\u0644\u062A\u062C\u0627\u0631\u064A \u0645\u0637\u0644\u0648\u0628"),a())}function te(e,t){if(e&1&&(p(0),l(1,ee,2,0,"small",5),d()),e&2){let n=f();m(),u("ngIf",n.companyForm.controls.commercialRegister.hasError("required"))}}function ne(e,t){e&1&&(i(0,"small"),r(1," \u0627\u0644\u062D\u0633\u0627\u0628 \u0627\u0644\u0628\u0646\u0643\u064A \u0645\u0637\u0644\u0648\u0628"),a())}function ae(e,t){if(e&1&&(p(0),l(1,ne,2,0,"small",5),d()),e&2){let n=f();m(),u("ngIf",n.companyForm.controls.bankAccount.hasError("required"))}}function oe(e,t){e&1&&(i(0,"small"),r(1," \u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0645\u0637\u0644\u0648\u0628"),a())}function ie(e,t){if(e&1&&(p(0),l(1,oe,2,0,"small",5),d()),e&2){let n=f();m(),u("ngIf",n.companyForm.controls.address.hasError("required"))}}function re(e,t){e&1&&(i(0,"small"),r(1," \u0646\u0633\u0628\u0647 \u0627\u0644\u0636\u0631\u064A\u0628\u0647 \u0645\u0637\u0644\u0648\u0628\u0647"),a())}function ue(e,t){if(e&1&&(p(0),l(1,re,2,0,"small",5),d()),e&2){let n=f();m(),u("ngIf",n.companyForm.controls.commissionPercentage.hasError("required"))}}var h=class e{constructor(t){this.fb=t}companyForm;sub;mainDataSer=x(B);toastr=x(V);ngOnInit(){this.getAllData(),this.companyForm=this.fb.group({nameAr:["",c.required],nameEn:["",c.required],phoneNumber:["",[c.required]],email:["",[c.required,c.email]],taxNumber:["",c.required],commercialRegister:["",c.required],bankAccount:["",c.required],address:["",c.required],commissionPercentage:["",[c.required]],autoCollectEnabled:[!0]})}submitForm(){if(this.companyForm.invalid){this.companyForm.markAllAsTouched();return}let t={nameAr:this.companyForm.value.nameAr,nameEn:this.companyForm.value.nameEn,phoneNumber:this.companyForm.value.phoneNumber,email:this.companyForm.value.email,taxNumber:this.companyForm.value.taxNumber,commercialRegister:this.companyForm.value.commercialRegister,bankAccount:this.companyForm.value.bankAccount,address:this.companyForm.value.address,commissionPercentage:this.companyForm.value.commissionPercentage,autoCollectEnabled:this.companyForm.value.autoCollectEnabled};this.sub=this.mainDataSer.updateData(t).subscribe({next:n=>{this.toastr.show(" \u062A\u0645 \u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0628\u0646\u062C\u0627\u062D","success"),this.getAllData()},error:n=>{if(n.error.errors){let o=n.error.errors;for(let _ in o)o[_].forEach(O=>{this.toastr.show(O,"error")})}else this.toastr.show("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0639\u0645\u0644\u064A\u0629","error")}})}getAllData(){this.sub=this.mainDataSer.getData().subscribe(t=>{this.companyForm.patchValue({nameAr:t.nameAr,nameEn:t.nameEn,phoneNumber:t.phoneNumber,email:t.email,taxNumber:t.taxNumber,commercialRegister:t.commercialRegister,bankAccount:t.bankAccount,address:t.address,commissionPercentage:t.commissionPercentage,autoCollectEnabled:t.autoCollectEnabled})})}validationNameAr(t){let n=t.key;!/^[\u0600-\u06FF\s]$/.test(n)&&n!=="Backspace"&&n!=="ArrowLeft"&&n!=="ArrowRight"&&t.preventDefault()}validationNameEn(t){let n=t.key;!/^[a-zA-Z\s]$/.test(n)&&n!=="Backspace"&&n!=="ArrowLeft"&&n!=="ArrowRight"&&n!=="Tab"&&t.preventDefault()}ValidationNumber(t){let n=t.key.charCodeAt(0);(n<48||n>58)&&t.preventDefault()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}static \u0275fac=function(n){return new(n||e)(F(w))};static \u0275cmp=E({type:e,selectors:[["app-maindata2"]],decls:55,vars:10,consts:[["appIntersection","fade-in",1,"forms_dashboard",3,"ngSubmit","formGroup"],[1,"row","align-items-center"],[1,"mb-3","col-sm-12","col-md-6"],["for","nameara",1,"form-label"],["type","text","id","nameara","formControlName","nameAr","placeholder","\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0647 \u0628\u0627\u0644\u0639\u0631\u0628\u064A",1,"form-control",3,"keypress"],[4,"ngIf"],["for","nameeng",1,"form-label"],["type","text","id","nameeng","placeholder","\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0647 \u0628\u0627\u0644\u0627\u0646\u062C\u0644\u064A\u0632\u064A","formControlName","nameEn",1,"form-control",3,"keypress"],["for","phonenumber",1,"form-label"],["type","text","id","phonenumber","placeholder","\u0627\u0644\u0631\u0642\u0645","formControlName","phoneNumber",1,"form-control",3,"keypress"],["for","email",1,"form-label"],["type","text","id","email","placeholder","\u0627\u0644\u0628\u0631\u064A\u062F ","formControlName","email",1,"form-control"],["for","numberdarebe",1,"form-label"],["type","text","id","numberdarebe","placeholder","\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064A\u0628\u064A ","formControlName","taxNumber",1,"form-control",3,"keypress"],["for","segltogare",1,"form-label"],["type","text","id","segltogare","placeholder","\u0627\u0644\u0633\u062C\u0644 \u0627\u0644\u062A\u062C\u0627\u0631\u064A","formControlName","commercialRegister",1,"form-control"],["for","hesap",1,"form-label"],["type","text","id","hesap","placeholder","\u0627\u0644\u062D\u0633\u0627\u0628 \u0627\u0644\u0628\u0646\u0643\u064A","formControlName","bankAccount",1,"form-control"],["for","address",1,"form-label"],["type","text","id","address","placeholder","\u0627\u0644\u0639\u0646\u0648\u0627\u0646","formControlName","address",1,"form-control"],["for","nespaDareba",1,"form-label"],["type","text","id","nespaDareba","placeholder","\u0646\u0633\u0628\u0647 \u0627\u0644\u0636\u0631\u064A\u0628\u0647","formControlName","commissionPercentage",1,"form-control",3,"keypress"],[1,"mt-3","col-sm-12","col-md-6"],[1,"form-check","mt-1","d-flex","align-items-center"],["type","checkbox","id","status","checked","","formControlName","autoCollectEnabled",1,"checkbox"],["for","status",1,"form-check-label"],[1,"btn_add_reset"],["type","submit"]],template:function(n,o){n&1&&(i(0,"form",0),y("ngSubmit",function(){return o.submitForm()}),i(1,"div",1)(2,"div",2)(3,"label",3),r(4,"\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0647 \u0628\u0627\u0644\u0639\u0631\u0628\u064A"),a(),i(5,"input",4),y("keypress",function(s){return o.validationNameAr(s)}),a(),l(6,z,2,1,"ng-container",5),a(),i(7,"div",2)(8,"label",6),r(9,"\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0647 \u0628\u0627\u0644\u0627\u0646\u062C\u0644\u064A\u0632\u064A"),a(),i(10,"input",7),y("keypress",function(s){return o.validationNameEn(s)}),a(),l(11,H,2,1,"ng-container",5),a(),i(12,"div",2)(13,"label",8),r(14,"\u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0644"),a(),i(15,"input",9),y("keypress",function(s){return o.ValidationNumber(s)}),a(),l(16,K,2,1,"ng-container",5),a(),i(17,"div",2)(18,"label",10),r(19," \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0627\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),a(),g(20,"input",11),l(21,W,3,2,"ng-container",5),a(),i(22,"div",2)(23,"label",12),r(24,"\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064A\u0628\u064A"),a(),i(25,"input",13),y("keypress",function(s){return o.ValidationNumber(s)}),a(),l(26,Y,2,1,"ng-container",5),a(),i(27,"div",2)(28,"label",14),r(29,"\u0627\u0644\u0633\u062C\u0644 \u0627\u0644\u062A\u062C\u0627\u0631\u064A "),a(),g(30,"input",15),l(31,te,2,1,"ng-container",5),a(),i(32,"div",2)(33,"label",16),r(34,"\u0627\u0644\u062D\u0633\u0627\u0628 \u0627\u0644\u0628\u0646\u0643\u064A"),a(),g(35,"input",17),l(36,ae,2,1,"ng-container",5),a(),i(37,"div",2)(38,"label",18),r(39,"\u0627\u0644\u0639\u0646\u0648\u0627\u0646"),a(),g(40,"input",19),l(41,ie,2,1,"ng-container",5),a(),i(42,"div",2)(43,"label",20),r(44,"\u0646\u0633\u0628\u0647 \u0627\u0644\u0636\u0631\u064A\u0628\u0647(%)"),a(),i(45,"input",21),y("keypress",function(s){return o.ValidationNumber(s)}),a(),l(46,ue,2,1,"ng-container",5),a(),i(47,"div",22)(48,"div",23),g(49,"input",24),i(50,"label",25),r(51,"\u062A\u0641\u0639\u064A\u0644 \u0627\u0644\u0636\u0631\u064A\u0628\u0647"),a()()()(),i(52,"div",26)(53,"button",27),r(54,"\u062D\u0641\u0638"),a()()()),n&2&&(u("formGroup",o.companyForm),m(6),u("ngIf",o.companyForm.controls.nameAr.invalid&&o.companyForm.controls.nameAr.touched),m(5),u("ngIf",o.companyForm.controls.nameEn.invalid&&o.companyForm.controls.nameEn.touched),m(5),u("ngIf",o.companyForm.controls.phoneNumber.invalid&&o.companyForm.controls.phoneNumber.touched),m(5),u("ngIf",o.companyForm.controls.email.invalid&&o.companyForm.controls.email.touched),m(5),u("ngIf",o.companyForm.controls.taxNumber.invalid&&o.companyForm.controls.taxNumber.touched),m(5),u("ngIf",o.companyForm.controls.commercialRegister.invalid&&o.companyForm.controls.commercialRegister.touched),m(5),u("ngIf",o.companyForm.controls.bankAccount.invalid&&o.companyForm.controls.bankAccount.touched),m(5),u("ngIf",o.companyForm.controls.address.invalid&&o.companyForm.controls.address.touched),m(5),u("ngIf",o.companyForm.controls.commissionPercentage.invalid&&o.companyForm.controls.commissionPercentage.touched))},dependencies:[S,I,k,M,T,D,R,q,j]})};var me=[{path:"",component:h}],v=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=C({type:e});static \u0275inj=b({imports:[A.forChild(me),A]})};var L=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=C({type:e});static \u0275inj=b({imports:[N,v,P]})};export{L as Maindata2Module};
